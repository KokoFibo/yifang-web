---
const { t1, t2, t3, t4, t5, t6, t7, t8 } = Astro.props;
---

<section class="relative bg-white py-24 overflow-hidden">
  <div
    class="absolute inset-0 z-0 opacity-[0.03]"
    style="background-image: radial-gradient(#000 1px, transparent 1px); background-size: 40px 40px;"
  >
  </div>

  <div class="max-w-7xl mx-auto px-6 relative z-10">
    <div class="mb-16">
      <p
        id="contact-sub"
        class="text-primary font-bold uppercase tracking-[0.2em] mb-4 text-sm"
      >
        {t1}
      </p>
      <h1
        id="contact-title"
        class="text-4xl md:text-6xl font-black text-slate-900 leading-tight mb-6"
      >
        {t2}
        <br />
        {t3}
      </h1>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-12 gap-10 items-stretch">
      <div class="lg:col-span-5 flex flex-col gap-6">
        <div
          id="info-card"
          class="contact-card bg-slate-50 p-8 rounded-[2.5rem] border border-slate-100 flex flex-col h-full transition-shadow duration-500 hover:shadow-2xl hover:shadow-red-100/50"
        >
          <div
            class="icon-box w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm border border-slate-50"
          >
            <svg
              class="w-6 h-6 text-primary"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
              ></path>
            </svg>
          </div>

          <div class="space-y-6">
            <div class="reveal-item">
              <h3
                class="text-primary uppercase tracking-widest text-[12px] mb-2"
              >
                {t4}
              </h3>
              <p class="text-slate-900 text-xl leading-none">
                {t5}: +62 21 599 2620
              </p>
            </div>

            <div class="pt-4 border-t border-slate-200 reveal-item">
              <h3
                class="text-primary uppercase tracking-widest text-[12px] mb-3"
              >
                {t6}
              </h3>
              <div class="space-y-2">
                <a
                  href="tel:+6285959424777"
                  class="group flex items-center gap-3 text-slate-700 hover:text-primary transition-colors"
                >
                  <div
                    class="w-8 h-8 rounded-full bg-white flex items-center justify-center shadow-sm group-hover:bg-red-50"
                  >
                    <i class="fa-solid fa-phone text-[10px]"></i>
                  </div>
                  <span class="">+62 859-5942-4777</span>
                </a>
                <a
                  href="mailto:bd@yifang.id"
                  class="group flex items-center gap-3 text-slate-700 hover:text-primary transition-colors"
                >
                  <div
                    class="w-8 h-8 rounded-full bg-white flex items-center justify-center shadow-sm group-hover:bg-red-50"
                  >
                    <i class="fa-solid fa-envelope text-[10px]"></i>
                  </div>
                  <span class="">bd@yifang.id</span>
                </a>
              </div>
            </div>

            <div class="pt-4 border-t border-slate-200 reveal-item">
              <h3
                class="text-primary uppercase tracking-widest text-[12px] mb-3"
              >
                {t7}
              </h3>
              <div class="space-y-2">
                <a
                  href="tel:+6283899598999"
                  class="group flex items-center gap-3 text-slate-700 hover:text-primary transition-colors"
                >
                  <div
                    class="w-8 h-8 rounded-full bg-white flex items-center justify-center shadow-sm group-hover:bg-red-50"
                  >
                    <i class="fa-solid fa-phone text-[10px]"></i>
                  </div>
                  <span class="">+62 838-9959-8999</span>
                </a>
                <a
                  href="mailto:buildyourfuture@yifang.co.id"
                  class="group flex items-center gap-3 text-slate-700 hover:text-primary transition-colors"
                >
                  <div
                    class="w-8 h-8 rounded-full bg-white flex items-center justify-center shadow-sm group-hover:bg-red-50"
                  >
                    <i class="fa-solid fa-envelope text-[10px]"></i>
                  </div>
                  <span class="break-all">buildyourfuture@yifang.co.id</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div
        id="location-box"
        class="lg:col-span-7 bg-white rounded-[3rem] shadow-2xl shadow-slate-200/60 border border-slate-50 flex flex-col overflow-hidden group"
      >
        <div class="p-10">
          <div class="flex items-center gap-2 mb-4">
            <span class="w-2 h-2 bg-primary rounded-full animate-pulse"></span>
            <h3 class="text-primary uppercase tracking-widest text-[14px]">
              {t8}
            </h3>
          </div>
          <h2 class="text-slate-900 font-black text-2xl mb-2">
            PT. Yifang C.M.E
          </h2>
          <p class="text-slate-500 text-sm leading-relaxed max-w-md">
            Jl. Millenium 23 Blok Q1 No.2A, Kadu Agung, Tigaraksa, Kabupaten
            Tangerang, Banten 15720
          </p>
        </div>

        <div class="flex-1 min-h-87.5 bg-slate-100 relative overflow-hidden">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3966.029111575196!2d106.49327467573185!3d-6.259895661288369!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e420704dac936ad%3A0xabcf69b391a16209!2sPT%20Yifang%20CME!5e0!3m2!1sen!2sid!4v1766230771761!5m2!1sen!2sid"
            class="absolute inset-0 w-full h-full grayscale group-hover:grayscale-0 group-hover:scale-105 transition-all duration-1000 ease-out"
            style="border:0;"
            allowfullscreen=""
            loading="lazy"
          >
          </iframe>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  gsap.registerPlugin(ScrollTrigger);

  const initContactAnimations = () => {
    const mainTl = gsap.timeline({
      scrollTrigger: {
        trigger: "section",
        start: "top 70%",
      },
    });

    // 1. Entrance Animation
    mainTl
      .from("#contact-sub", { y: 20, opacity: 0, duration: 0.5 })
      .from(
        "#contact-title",
        { y: 30, opacity: 0, duration: 0.7, ease: "power3.out" },
        "-=0.3"
      )
      .from(
        ".contact-card",
        { x: -50, opacity: 0, duration: 1, ease: "expo.out" },
        "-=0.5"
      )
      .from(
        ".reveal-item",
        { y: 20, opacity: 0, stagger: 0.15, duration: 0.8, ease: "power2.out" },
        "-=0.8"
      )
      .from(
        "#location-box",
        { x: 50, opacity: 0, duration: 1.2, ease: "expo.out" },
        "-=1.2"
      );

    // 2. Continuous Floating Animation untuk Icon
    gsap.to(".icon-box", {
      y: -8,
      repeat: -1,
      yoyo: true,
      duration: 2,
      ease: "sine.inOut",
    });

    // 3. Mouse Interaction (Parallax Effect) pada Kartu
    const card = document.querySelector(".contact-card");
    const box = document.querySelector("#location-box");

    document.addEventListener("mousemove", (e) => {
      const x = (e.clientX / window.innerWidth - 0.5) * 20;
      const y = (e.clientY / window.innerHeight - 0.5) * 20;

      gsap.to(card, {
        rotationY: x * 0.5,
        rotationX: -y * 0.5,
        transformPerspective: 1000,
        duration: 0.5,
      });

      gsap.to(box, {
        x: x * 0.2,
        y: y * 0.2,
        duration: 0.5,
      });
    });
  };

  initContactAnimations();
</script>

<style>
  .contact-card {
    transform-style: preserve-3d;
    will-change: transform;
  }
</style>
