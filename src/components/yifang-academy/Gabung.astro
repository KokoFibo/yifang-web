---
const { t1, t2, t3, t4, t5, t6, t7, t8, t9, t10 } = Astro.props;
---

<section class="max-w-7xl mx-auto px-6 py-24 overflow-hidden bg-white">
  <div class="grid grid-cols-1 lg:grid-cols-12 gap-16 items-center">
    <div
      id="wa-card"
      class="lg:col-span-7 bg-white rounded-[3rem] p-10 md:p-16 shadow-[0_30px_100px_rgba(0,0,0,0.04)] border border-slate-50 relative z-20"
    >
      <div class="space-y-8">
        <h2
          class="text-3xl md:text-5xl font-black text-slate-900 leading-[1.1]"
        >
          {t1}
          <br />
          <span class="text-green-600">{t2}</span>
        </h2>

        <ul class="space-y-6">
          {
            [t2, t4, t5, t6].map((item) => (
              <li class="wa-list-item flex items-center gap-5 group">
                <div class="shrink-0 w-10 h-10 bg-green-50 rounded-2xl flex items-center justify-center group-hover:bg-green-500 group-hover:rotate-12 transition-all duration-300">
                  <svg
                    class="w-6 h-6 text-green-600 group-hover:text-white"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="3"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                </div>
                <span class="text-slate-600 font-bold text-xl">{item}</span>
              </li>
            ))
          }
        </ul>

        <div class="pt-8">
          <a
            href="#"
            class="inline-flex items-center gap-4 bg-[#bd3228] text-white px-12 py-5 rounded-2xl font-black text-xl hover:bg-slate-900 transition-all duration-500 shadow-2xl shadow-red-200 hover:shadow-slate-400 active:scale-95 uppercase tracking-wider"
          >
            <i class="fa-brands fa-whatsapp text-2xl"></i>
            {t7}
          </a>
        </div>
      </div>
    </div>

    <div class="lg:col-span-5 relative h-full flex items-center justify-center">
      <div
        class="absolute w-[120%] h-[120%] bg-green-100/40 rounded-full blur-[100px] -z-10"
      >
      </div>

      <div id="wa-visual-container" class="relative z-10 w-full max-w-105">
        <div
          class="absolute -inset-6 border-2 border-dashed border-slate-200 rounded-[3.5rem] -rotate-6"
        >
        </div>

        <div
          id="main-image-frame"
          class="relative rounded-[2.5rem] overflow-hidden shadow-[0_50px_100px_-20px_rgba(0,0,0,0.2)] bg-slate-200 aspect-4/5"
        >
          <img
            src="/images/Gambar-8.webp"
            alt="Yifang Academy Community"
            class="w-full h-full object-cover scale-110"
          />
          <div
            class="absolute inset-0 bg-linear-to-t from-black/60 via-transparent to-transparent"
          >
          </div>
        </div>

        <div
          id="float-chat"
          class="absolute -left-10 top-[25%] bg-white/95 backdrop-blur-md p-5 rounded-2xl shadow-2xl flex items-center gap-4 z-30 border border-white/50"
        >
          <div
            class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white shadow-lg shadow-green-200"
          >
            <i class="fa-brands fa-whatsapp text-2xl"></i>
          </div>
          <div>
            <p
              class="text-[10px] text-green-600 font-black uppercase tracking-[0.2em] mb-0.5"
            >
              {t8}
            </p>
            <p class="text-base font-bold text-slate-800">
              {t9}
            </p>
          </div>
        </div>

        <div
          id="floating-tag"
          class="absolute -top-12 -right-2 bg-yellow-400 text-slate-900 px-6 py-2 rounded-full font-black shadow-xl rotate-12 z-40 text-xs uppercase italic tracking-wider"
        >
          {t10} âš¡
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  const initWASection = () => {
    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: "#wa-card",
        start: "top 75%",
      },
    });

    // Entrance Sequence
    tl.from("#wa-card", { x: -60, opacity: 0, duration: 1.2, ease: "expo.out" })
      .from(
        ".wa-list-item",
        { x: -30, opacity: 0, stagger: 0.1, duration: 0.8, ease: "power2.out" },
        "-=0.8"
      )
      .from(
        "#main-image-frame",
        { scale: 0.9, opacity: 0, duration: 1.5, ease: "expo.out" },
        "-=1.2"
      )
      .from(
        ["#float-chat", "#floating-tag"],
        {
          scale: 0,
          opacity: 0,
          stagger: 0.2,
          duration: 0.8,
          ease: "back.out(1.7)",
        },
        "-=0.8"
      );

    // Interactive Parallax
    const section = document.querySelector("section");
    section.addEventListener("mousemove", (e) => {
      const { clientX, clientY } = e;
      const xPos = clientX / window.innerWidth - 0.5;
      const yPos = clientY / window.innerHeight - 0.5;

      gsap.to("#main-image-frame img", {
        x: xPos * 25,
        y: yPos * 25,
        duration: 0.8,
      });
      gsap.to("#float-chat", { x: xPos * -45, y: yPos * -45, duration: 1 });
      gsap.to("#floating-tag", { x: xPos * -65, y: yPos * -65, duration: 0.6 });
    });
  };

  initWASection();
</script>
