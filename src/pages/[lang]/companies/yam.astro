---
import ContentCard from "../../../components/ContentCard.astro";
import HeroSection from "../../../components/HeroSection.astro";
import Layout from "../../../layouts/Layout.astro";

import { getEntry } from "astro:content";
// 1. WAJIB: Tambahkan fungsi ini agar dynamic route [lang] bekerja
export async function getStaticPaths() {
  return [{ params: { lang: "en" } }, { params: { lang: "zh" } }];
}

const { lang } = Astro.params;

// 2. Ambil data dari content/ysm/en.json atau zh.json
const entry = await getEntry("yam", lang);

// Jika data tidak ditemukan, berikan fallback agar tidak error
if (!entry) {
  throw new Error(`Data tidak ditemukan untuk bahasa: ${lang}`);
}

const { data } = entry;

// ğŸ”¥ SEO CONFIG
const seo = {
  en: {
    title: "PT YIFANG ASSET MANAGEMENT | Industrial Factory & Asset Solutions",
    description:
      "PT YIFANG ASSET MANAGEMENT provides industrial factory and asset solutions to support efficient operations and growth.",
    image: "/images/og/yam-en-og.webp",
  },
  zh: {
    title: "PT YIFANG ASSET MANAGEMENTï½œæ˜“æ–¹èµ„äº§ç®¡ç†å°å°¼å·¥ä¸šå‚æˆ¿è§£å†³æ–¹æ¡ˆå…¬å¸",
    description:
      "PT YIFANG ASSET MANAGEMENTï¼ˆYAMï¼‰ä¸“æ³¨äºå°å°¼å¸‚åœºï¼Œä¸ºä¼ä¸šæä¾›ä¸“ä¸šçš„å·¥ä¸šå‚æˆ¿ä¸èµ„äº§ç®¡ç†è§£å†³æ–¹æ¡ˆï¼ŒååŠ©å®¢æˆ·ç²¾å‡†åŒ¹é…æœ€åˆé€‚çš„å‚æˆ¿èµ„æºï¼Œæå‡è¿è¥æ•ˆç‡ï¼Œæ”¯æŒä¼ä¸šé•¿æœŸç¨³å¥å‘å±•ã€‚",
    image: "/images/og/yam-zh-og.webp",
  },
};

const { title, description, image } = seo[lang] ?? seo.en;
---

<Layout title={title} description={description} image={image}>
  <HeroSection
    companies={data.main.companies}
    url="/images/OUR-COMPANIES-HEADER-YAM.webp"
    description={data.main.description}
  />

  <ContentCard
    subtitle={data.industrial.subtitle}
    title={data.industrial.title}
    descriptions={data.industrial.descriptions}
    imageUrl="/images/YAM-INDUSTRIAL-PLANT-LEASING-750x500-1.webp"
    alt="YAM-INDUSTRIAL-PLANT-LEASING"
  />

  <ContentCard
    subtitle={data.property.subtitle}
    title={data.property.title}
    descriptions={data.property.descriptions}
    imageUrl="/images/YAM-PROPERTY-SERVICES-750x500-1.webp"
    alt="YAM-PROPERTY-SERVICES"
    reverse="false"
  />

  <ContentCard
    subtitle={data.restaurant.subtitle}
    title={data.restaurant.title}
    descriptions={data.restaurant.descriptions}
    imageUrl="/images/YAM-CATERING-750x500-1.webp"
    alt="YAM-CATERING"
  />

  <ContentCard
    subtitle={data.local.subtitle}
    title={data.local.title}
    descriptions={data.local.descriptions}
    imageUrl="/images/YAM-LOCAL-LOGISTIC-750x500-1.webp"
    alt="YAM-LOCAL-LOGISTIC"
    reverse="false"
  />
</Layout>

<!-- 
<ContentCard
  subtitle=""
  title=""
  descriptions={[""]}
  imageUrl=""
  alt=""
  reverse="false"
/> 
-->
